---
import { cn } from "@/lib/utils";

interface Props {
  class?: string;
  src?: string;
  alt?: string;
  fallback?: string;
  size?: "sm" | "md" | "lg" | "xl";
}

const { class: className, src, alt, fallback, size = "md", ...props } = Astro.props;

const sizeClasses = {
  sm: "h-8 w-8",
  md: "h-10 w-10", 
  lg: "h-16 w-16",
  xl: "h-24 w-24"
};
---

<div class={cn("relative flex shrink-0 overflow-hidden rounded-full", sizeClasses[size], className)} {...props}>
  {src ? (
    <img src={src} alt={alt} class="aspect-square h-full w-full object-cover" />
  ) : (
    <div class="flex h-full w-full items-center justify-center rounded-full bg-muted">
      <span class="text-sm font-medium text-muted-foreground">
        {fallback || "?"}
      </span>
    </div>
  )}
</div>